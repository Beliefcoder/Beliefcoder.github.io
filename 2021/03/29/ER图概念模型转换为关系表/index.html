<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ER图概念模型转换为关系模式 | zaneW的知识屋</title><meta name="author" content="zaneW"><meta name="copyright" content="zaneW"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="E-R模型向关系模型的转换规则： 转换准则：1:1、1:N、M:N 二元联系 （1）一对一关系(One to One) 当转换为关系模型时，在两个实体任选一个添加另一个实体的主键即可。 例子：校里一个班级只有一个正班长，而一个班长只在一个班中任职，则班级与班长之间具有一对一联系。当转换为关系模式时，我们可以在班长关系中添加班级的主键（班级号）；或者在班级关系中添加班长的主键（学号）。 （2）多对一">
<meta property="og:type" content="article">
<meta property="og:title" content="ER图概念模型转换为关系模式">
<meta property="og:url" content="http://zanewang.online/2021/03/29/ER%E5%9B%BE%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%85%B3%E7%B3%BB%E8%A1%A8/index.html">
<meta property="og:site_name" content="zaneW的知识屋">
<meta property="og:description" content="E-R模型向关系模型的转换规则： 转换准则：1:1、1:N、M:N 二元联系 （1）一对一关系(One to One) 当转换为关系模型时，在两个实体任选一个添加另一个实体的主键即可。 例子：校里一个班级只有一个正班长，而一个班长只在一个班中任职，则班级与班长之间具有一对一联系。当转换为关系模式时，我们可以在班长关系中添加班级的主键（班级号）；或者在班级关系中添加班长的主键（学号）。 （2）多对一">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://haowallpaper.com/link/common/file/previewFileImg/8eeea8e9a9f16f35fe91e2408336e88b">
<meta property="article:published_time" content="2021-03-28T16:06:34.000Z">
<meta property="article:modified_time" content="2025-04-03T17:38:21.553Z">
<meta property="article:author" content="zaneW">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://haowallpaper.com/link/common/file/previewFileImg/8eeea8e9a9f16f35fe91e2408336e88b"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ER图概念模型转换为关系模式",
  "url": "http://zanewang.online/2021/03/29/ER%E5%9B%BE%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%85%B3%E7%B3%BB%E8%A1%A8/",
  "image": "https://haowallpaper.com/link/common/file/previewFileImg/8eeea8e9a9f16f35fe91e2408336e88b",
  "datePublished": "2021-03-28T16:06:34.000Z",
  "dateModified": "2025-04-03T17:38:21.553Z",
  "author": [
    {
      "@type": "Person",
      "name": "zaneW",
      "url": "http://zanewang.online/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/1.png"><link rel="canonical" href="http://zanewang.online/2021/03/29/ER%E5%9B%BE%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%85%B3%E7%B3%BB%E8%A1%A8/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ER图概念模型转换为关系模式',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/dog.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 博客</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://haowallpaper.com/link/common/file/previewFileImg/8eeea8e9a9f16f35fe91e2408336e88b);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/1.png" alt="Logo"><span class="site-name">zaneW的知识屋</span></a><a class="nav-page-title" href="/"><span class="site-name">ER图概念模型转换为关系模式</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 博客</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">ER图概念模型转换为关系模式</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2021-03-28T16:06:34.000Z" title="发表于 2021-03-29 00:06:34">2021-03-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="E-R模型向关系模型的转换规则：">E-R模型向关系模型的转换规则：</h2>
<p><strong>转换准则：1:1、1:N、M:N</strong></p>
<h3 id="二元联系">二元联系</h3>
<p><strong>（1）一对一关系(One to One)</strong></p>
<p>当转换为关系模型时，在两个实体任选一个添加另一个实体的主键即可。</p>
<p>例子：校里一个班级只有一个正班长，而一个班长只在一个班中任职，则班级与班长之间具有一对一联系。当转换为关系模式时，我们可以在班长关系中添加班级的主键（班级号）；或者在班级关系中添加班长的主键（学号）。</p>
<p><strong>（2）多对一关系(Many to one)</strong></p>
<p>保留多边(Many-side)E1的所有属性 + 一边(one-side)的主键 + 关系自身的属性到一个扩展(extended)的E1表中。</p>
<p>即当转换为关系模型时，在N端添加另一端的主键和联系的属性。</p>
<blockquote>
<p><strong>为什么这么映射？</strong><br>
可以减少数据库的冗余，因为如果是把STUDENT的主键添加到STAFF表中，由于一个STAFF可以对应多个学生，这样子就会出现很多冗余的数据</p>
</blockquote>
<p>例子：一个班级中有若干名学生，而每个学生只在一个班级中学习，则班级与学生之间具有一对多联系。当转换为关系模式时，我们得在学生关系中添加班级的主键（班级号）。</p>
<p><strong>不需多加实体，多的部分保存在N中</strong></p>
<p><strong>（3）多对多关系(Many to Many)</strong></p>
<p>取关系两端的实体的主键 + 关系本身的属性</p>
<p>当转换为关系模型时，需要将联系转换为实体，然后在该实体上加上另外两个实体的主键，作为联系实体的主键，然后再加上该联系自身带的属性即可。</p>
<p><strong>需要加一个实体保存关系</strong></p>
<p><img src="http://120.26.162.0/_data/i/upload/2025/03/29/20250329204521-ff255612-me.png" alt="pic"></p>
<p><img src="http://120.26.162.0/_data/i/upload/2025/03/29/20250329204522-beb5d3e5-me.png" alt="pic"></p>
<ol start="2">
<li>
<p>四个关系模式：</p>
<p>商店（<u>商店编号</u>，商店名，地址）</p>
<p>销售（<u>商店编号</u>，<u>商品号</u>，月销售量）</p>
<p>商品（<u>商品号</u>，商品名，规格，单价）</p>
</li>
</ol>
<p>​       职工（<u>职工编号</u>，姓名，性别，业绩，<u>商店编号</u>，聘期，月薪）</p>
</article><div class="tag_share"></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2021/03/25/%E8%8C%83%E5%BC%8F/" title="范式"><img class="cover" src="https://haowallpaper.com/link/common/file/previewFileImg/16093935547698560" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">范式</div></div><div class="info-2"><div class="info-item-1">第一范式（1NF） - 原子性 第一范式（1NF）要求表中的每个字段（列）必须是原子的，即每个列的值不能是集合、数组或其他可以分解的多个值。表中的每个单元格只能包含一个值，而不能包含多个值。 1NF 要求：  表中的每列的值都是不可再分割的原子值。 每行必须是唯一的，不能有重复的行  不满足，违反原子性    学号 姓名 科目     001 张三 数学, 英语   002 李四 语文, 数学     解决方法     学号 姓名 科目     001 张三 数学   001 张三 英语   002 李四 语文   002 李四 数学    第二范式（2NF） - 消除部分依赖 第二范式（2NF）要求表格不仅符合 第一范式（1NF），还要消除 部分依赖。2NF 解决的是 非主属性（非关键字属性）部分依赖于 主键 的问题 2NF 要求：  表必须首先满足 第一范式。 非主属性（即不包含在候选键中的属性）必须完全依赖于 主键，而不能仅依赖于主键的一部分。  假设有一个学生课程成绩表，主键是 (学号, 课程)， 姓名 只依赖于 学号，而与 课程 无关。姓名 依赖于 学号，而不是 学号...</div></div></div></a><a class="pagination-related" href="/2021/03/31/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E6%88%98/" title="数据库实战"><img class="cover" src="https://haowallpaper.com/link/common/file/previewFileImg/329ae70bae487c6f2399add1e17b700b" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">数据库实战</div></div><div class="info-2"><div class="info-item-1">要素 数据：文本、数字、图像、音视频等任何形式的信息 表： 数据以二维表的形式组织，每个表包含：  字段（Field）：列名，表示数据的属性（如“姓名”“年龄”）。 记录（Record）：每一行的具体数据（如“张三，25岁”）。  数据库管理系统（DBMS）：负责数据的存储、查询、更新和安全控制 数据操作（Data Manipulation）： 对数据进行增删改查（CRUD），DML（Data Manipulation Language） 实现SELECT, INSERT, UPDATE, DELETE 数据定义（Data Definition）：定义数据的结构和约束，创建、修改、删除数据库对象（如表、视图、索引等）。 DDL（Data Definition Language） 实现，如 CREATE TABLE, ALTER TABLE, DROP TABLE 数据存储与管理（Storage...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#E-R%E6%A8%A1%E5%9E%8B%E5%90%91%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">E-R模型向关系模型的转换规则：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%85%83%E8%81%94%E7%B3%BB"><span class="toc-number">1.1.</span> <span class="toc-text">二元联系</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url(https://haowallpaper.com/link/common/file/previewFileImg/8eeea8e9a9f16f35fe91e2408336e88b);"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By zaneW</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>